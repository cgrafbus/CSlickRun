<UserControl
    x:Class="CSlickRun.UI.Views.EditCommandView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:controls="clr-namespace:CSlickRun.UI.Controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:CSlickRun.UI.Views"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:viewModels="clr-namespace:CSlickRun.UI.ViewModels"
    d:DesignHeight="800"
    d:DesignWidth="1500"
    KeyDown="UserControl_KeyDown"
    mc:Ignorable="d">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="73*" />
            <RowDefinition Height="7*" />
        </Grid.RowDefinitions>
        <ScrollViewer
            Grid.Row="0"
            Panel.ZIndex="999"
            Style="{DynamicResource ModernScrollViewer}">
            <StackPanel
                Grid.Row="0"
                Margin="0,10,0,0"
                Orientation="Vertical">
                <controls:PanelHeader HeaderLabelContent="Name" />
                <TextBox
                    x:Name="TextBoxName"
                    Width="400"
                    Height="30"
                    Margin="0,5,0,0"
                    HorizontalAlignment="Center"
                    Background="{DynamicResource MainBackgroundBrush}"
                    MaxLength="30"
                    Style="{DynamicResource ModernTextBox}"
                    Text="{Binding CurrentCommand.Name, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                <controls:PanelHeader Margin="0,15,0,0" HeaderLabelContent="Paths to execute" />
                <DataGrid
                    x:Name="DataGridCommands"
                    Width="1450"
                    MinHeight="300"
                    Margin="0,15,0,0"
                    AutoGenerateColumns="False"
                    CanUserDeleteRows="True"
                    CanUserResizeColumns="False"
                    ColumnWidth="500"
                    HorizontalScrollBarVisibility="Disabled"
                    ItemsSource="{Binding CommandPaths, Mode=TwoWay}"
                    MinColumnWidth="400"
                    SelectionMode="Single"
                    SelectionUnit="FullRow">
                    <DataGrid.Columns>
                        <DataGridTextColumn
                            Binding="{Binding Path}"
                            EditingElementStyle="{DynamicResource ModernTextBoxDataGridCell}"
                            Header="Path" />
                        <DataGridTextColumn
                            Binding="{Binding Argument}"
                            EditingElementStyle="{DynamicResource ModernTextBoxDataGridCell}"
                            Header="Argument" />
                        <DataGridTextColumn
                            Binding="{Binding StartupPath}"
                            EditingElementStyle="{DynamicResource ModernTextBoxDataGridCell}"
                            Header="Startup Path" />
                    </DataGrid.Columns>
                </DataGrid>
                <controls:PanelHeader Margin="0,15,0,0" HeaderLabelContent="Note" />
                <TextBox
                    x:Name="TextBoxNote"
                    Width="1200"
                    Height="Auto"
                    MinHeight="30"
                    Margin="0,15,0,0"
                    AcceptsReturn="True"
                    Background="{DynamicResource SecondaryBackgroundBrush}"
                    BorderBrush="{DynamicResource MainAccentBrush}"
                    BorderThickness="1"
                    Style="{DynamicResource ModernTextBox}"
                    Text="{Binding CurrentCommand.Note, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                    TextWrapping="Wrap" />
            </StackPanel>
        </ScrollViewer>
        <StackPanel
            Grid.Row="1"
            HorizontalAlignment="Center"
            Orientation="Horizontal">
            <Button
                Width="200"
                Background="{DynamicResource MainBackgroundBrush}"
                Command="{Binding SaveCommand}"
                Content="Save"
                Style="{DynamicResource ButtonDefault}" />
            <Button
                Width="200"
                Background="{DynamicResource MainBackgroundBrush}"
                Command="{Binding GoBackCommand}"
                Content="Cancel"
                Style="{DynamicResource ButtonDefault}" />
            <Button
                Width="200"
                Background="{DynamicResource MainBackgroundBrush}"
                Command="{Binding TestCommandCommand}"
                Content="Test Command"
                Style="{DynamicResource ButtonDefault}" />
        </StackPanel>
    </Grid>
</UserControl>
